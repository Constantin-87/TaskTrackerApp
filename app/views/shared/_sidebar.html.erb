<nav id="sidebarMenu" class="col-md-2 col-lg-2 d-md-block bg-dark sidebar collapse">
            <div class="position-sticky pt-3" style="overflow-y: auto;">
              <!-- User info -->
              <h5 class="text-center mb-4">Hello, <%= current_user.first_name %></h5>

              <!-- Navigation Items -->
              <ul class="nav flex-column">
                <!-- Home Link -->
                <li class="nav-item mb-2">
                  <%= link_to authenticated_root_path, data: { turbo: false }, class: 'nav-link text-light d-flex align-items-center' do %>
                    <i class="bi bi-house me-2"></i>
                    Home
                  <% end %>
                </li>           
                     

                <!-- Boards Accordion -->
                <li class="nav-item mb-2">
                  <div class="accordion bg-dark" id="boardsAccordion">
                    <div class="accordion-item bg-dark border-0">
                      <h2 class="accordion-header" id="boardsHeading">
                        <button class="accordion-button text-light bg-dark shadow-none collapsed d-flex align-items-center accordion-toggle" type="button" data-task-id="#boardsCollapse">
                          <i class="bi bi-columns-gap me-2"></i>
                          Boards
                        </button>
                      </h2>
                      <div id="boardsCollapse" class="accordion-collapse collapse" style="display:none;"> <!-- Initially hidden -->
                        <div class="accordion-body p-0">
                          <ul class="list-group list-group-flush bg-dark">
                            <!-- Add New Board (only for admins and managers) -->
                            <% if current_user.manager? || current_user.admin? %>
                              <li class="list-group-item bg-dark text-light border-0">
                                <%= link_to new_board_path, data: { turbo: false }, class: 'nav-link text-light d-flex align-items-center' do %>
                                  <i class="bi bi-plus-lg me-2"></i>
                                  Add New Board
                                <% end %>
                              </li>
                            <% end %>

                            <!-- Display Boards based on user role -->
                            <% if @boards.present? %>
                              <% @boards.each do |board| %>
                                <% if current_user.admin? || (current_user.manager? && current_user.teams.pluck(:id).include?(board.team_id)) || (current_user.agent? && current_user.teams.pluck(:id).include?(board.team_id)) %>
                                  <li class="list-group-item bg-dark text-light border-0">
                                    <%= link_to board_path(board), data: { turbo: false }, class: 'nav-link text-light d-flex align-items-center' do %>
                                      <i class="bi bi-folder2-open me-2"></i>
                                      <span><%= board.name %></span>
                                    <% end %>
                                  </li>
                                <% end %>
                              <% end %>
                            <% else %>
                              <li class="list-group-item bg-dark text-light">No boards available</li>
                            <% end %>
                          </ul>
                        </div>
                      </div>
                    </div>
                  </div>
                </li>

                <!-- Administration Accordion (Only for Admins) -->
                <% if current_user.admin? %>
                  <li class="nav-item mt-2">
                    <div class="accordion bg-dark" id="adminAccordion">
                      <div class="accordion-item bg-dark border-0">
                        <h2 class="accordion-header" id="adminHeading">
                          <button class="accordion-button text-light bg-dark shadow-none collapsed d-flex align-items-center accordion-toggle" type="button" data-task-id="#adminCollapse">
                            <i class="bi bi-gear-fill me-2"></i>
                            Administration
                          </button>
                        </h2>
                        <div id="adminCollapse" class="accordion-collapse collapse" style="display:none;"> <!-- Initially hidden -->
                          <div class="accordion-body p-0">
                            <ul class="list-group list-group-flush bg-dark">
                              <li class="list-group-item bg-dark text-light border-0">
                                <%= link_to teams_path, data: { turbo: false }, class: 'nav-link text-light d-flex align-items-center' do %>
                                  <i class="bi bi-people-fill me-2"></i>
                                  Teams
                                <% end %>
                              </li>
                              <li class="list-group-item bg-dark text-light border-0">
                                <%= link_to admin_page_index_path, data: { turbo: false }, class: 'nav-link text-light d-flex align-items-center' do %>
                                  <i class="bi bi-tools me-2"></i>
                                  Admin
                                <% end %>
                              </li>
                            </ul>
                          </div>
                        </div>
                      </div>
                    </div>
                  </li>
                <% end %>

                <!-- Sign Out Link -->
                <li class="nav-item mt-4">
                  <%= link_to destroy_user_session_path, data: { turbo_method: :delete }, class: 'nav-link text-light d-flex align-items-center' do %>
                    <i class="bi bi-box-arrow-left me-2"></i>
                    Sign Out
                  <% end %>
                </li>
              </ul>
            </div>
          </nav>